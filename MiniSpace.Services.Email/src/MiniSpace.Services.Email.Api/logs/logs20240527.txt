2024-05-27 00:23:43.806 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Api/wwwroot. Static files may be unavailable.
2024-05-27 00:23:43.854 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 00:23:43.927 +02:00 [INF] Notification Cleanup Service is running.
2024-05-27 00:23:43.989 +02:00 [INF] Registering a service [id: notifications-service:13319c2f3b314f26a03222c593eaacce] in Consul...
2024-05-27 00:23:44.011 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 00:23:44.014 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 00:23:44.014 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 00:23:44.022 +02:00 [INF] Received HTTP response headers after 4.7936ms - 200
2024-05-27 00:23:44.023 +02:00 [INF] End processing HTTP request after 9.3013ms - 200
2024-05-27 00:23:44.025 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 00:23:44.026 +02:00 [INF] Registered a service [id: notifications-service:13319c2f3b314f26a03222c593eaacce] in Consul.
2024-05-27 00:23:44.035 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.create_notification' with routing key: 'create_notification' for an exchange: 'notifications'.
2024-05-27 00:23:44.044 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.delete_notification' with routing key: 'delete_notification' for an exchange: 'notifications'.
2024-05-27 00:23:44.046 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.update_notification_status' with routing key: 'update_notification_status' for an exchange: 'notifications'.
2024-05-27 00:23:44.048 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.friend_request_sent' with routing key: 'friend_request_sent' for an exchange: 'notifications'.
2024-05-27 00:23:44.052 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.friend_invited' with routing key: 'friend_invited' for an exchange: 'notifications'.
2024-05-27 00:23:44.054 +02:00 [INF] Declaring a queue: 'notifications-service/friends.friend_added' with routing key: 'friend_added' for an exchange: 'friends'.
2024-05-27 00:23:44.057 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.pending_friend_accepted' with routing key: 'pending_friend_accepted' for an exchange: 'notifications'.
2024-05-27 00:23:44.059 +02:00 [INF] Declaring a queue: 'notifications-service/friends.pending_friend_declined' with routing key: 'pending_friend_declined' for an exchange: 'friends'.
2024-05-27 00:23:44.062 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.event_created' with routing key: 'event_created' for an exchange: 'notifications'.
2024-05-27 00:23:44.099 +02:00 [INF] Removed 0 old notifications.
2024-05-27 00:23:44.100 +02:00 [INF] Waiting 4 weeks before next cleanup.
2024-05-27 00:23:54.500 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:23:54.546 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:23:54.643 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:23:54.658 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:23:54.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 179.59ms
2024-05-27 00:23:54.686 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:23:54.688 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:23:54.720 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:23:54.720 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:23:54.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 37.5902ms
2024-05-27 00:24:09.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:24:09.687 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:09.755 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:09.758 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:24:09.768 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 82.4764ms
2024-05-27 00:24:24.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:24:24.686 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:24.746 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:24.747 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:24:24.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 63.6523ms
2024-05-27 00:24:39.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:24:39.696 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:39.756 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:39.758 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:24:39.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 71.8028ms
2024-05-27 00:24:54.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:24:54.695 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:54.752 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:24:54.752 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:24:54.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 61.4216ms
2024-05-27 00:25:09.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:25:09.690 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:09.747 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:09.748 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:25:09.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 60.6129ms
2024-05-27 00:25:12.275 +02:00 [INF] Deregistering a service [id: notifications-service:13319c2f3b314f26a03222c593eaacce] from Consul...
2024-05-27 00:25:12.277 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/notifications-service:13319c2f3b314f26a03222c593eaacce"
2024-05-27 00:25:12.277 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/notifications-service:13319c2f3b314f26a03222c593eaacce
2024-05-27 00:25:12.277 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/notifications-service:13319c2f3b314f26a03222c593eaacce
2024-05-27 00:25:12.281 +02:00 [INF] Received HTTP response headers after 3.3693ms - 200
2024-05-27 00:25:12.281 +02:00 [INF] End processing HTTP request after 4.0853ms - 200
2024-05-27 00:25:12.281 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 00:25:12.282 +02:00 [INF] Deregistered a service [id: notifications-service:13319c2f3b314f26a03222c593eaacce] from Consul.
2024-05-27 00:25:21.297 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Api/wwwroot. Static files may be unavailable.
2024-05-27 00:25:21.347 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 00:25:21.398 +02:00 [INF] Notification Cleanup Service is running.
2024-05-27 00:25:21.457 +02:00 [INF] Registering a service [id: notifications-service:af8604834e8249559d09b78e8cedf19a] in Consul...
2024-05-27 00:25:21.474 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 00:25:21.477 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 00:25:21.478 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 00:25:21.487 +02:00 [INF] Received HTTP response headers after 7.092ms - 200
2024-05-27 00:25:21.488 +02:00 [INF] End processing HTTP request after 11.2545ms - 200
2024-05-27 00:25:21.491 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 00:25:21.491 +02:00 [INF] Registered a service [id: notifications-service:af8604834e8249559d09b78e8cedf19a] in Consul.
2024-05-27 00:25:21.499 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.create_notification' with routing key: 'create_notification' for an exchange: 'notifications'.
2024-05-27 00:25:21.508 +02:00 [INF] Removed 0 old notifications.
2024-05-27 00:25:21.509 +02:00 [INF] Waiting 4 weeks before next cleanup.
2024-05-27 00:25:21.511 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.delete_notification' with routing key: 'delete_notification' for an exchange: 'notifications'.
2024-05-27 00:25:21.514 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.update_notification_status' with routing key: 'update_notification_status' for an exchange: 'notifications'.
2024-05-27 00:25:21.516 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.friend_request_sent' with routing key: 'friend_request_sent' for an exchange: 'notifications'.
2024-05-27 00:25:21.519 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.friend_invited' with routing key: 'friend_invited' for an exchange: 'notifications'.
2024-05-27 00:25:21.521 +02:00 [INF] Declaring a queue: 'notifications-service/friends.friend_added' with routing key: 'friend_added' for an exchange: 'friends'.
2024-05-27 00:25:21.523 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.pending_friend_accepted' with routing key: 'pending_friend_accepted' for an exchange: 'notifications'.
2024-05-27 00:25:21.527 +02:00 [INF] Declaring a queue: 'notifications-service/friends.pending_friend_declined' with routing key: 'pending_friend_declined' for an exchange: 'friends'.
2024-05-27 00:25:21.529 +02:00 [INF] Declaring a queue: 'notifications-service/notifications.event_created' with routing key: 'event_created' for an exchange: 'notifications'.
2024-05-27 00:25:24.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:25:24.804 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:24.916 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:24.936 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:25:24.959 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 219.6423ms
2024-05-27 00:25:39.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:25:39.699 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:39.760 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:39.761 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:25:39.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 73.4527ms
2024-05-27 00:25:54.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:25:54.686 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:54.745 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:25:54.745 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.ConvertStringToEnum(String value)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:25:54.747 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 63.0337ms
2024-05-27 00:26:09.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:26:09.693 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:09.749 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:09.750 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:26:09.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 60.7866ms
2024-05-27 00:26:24.690 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:26:24.691 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:24.750 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:24.751 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:26:24.754 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 64.1109ms
2024-05-27 00:26:39.683 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:26:39.684 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:39.746 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:39.748 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:26:39.756 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 72.2574ms
2024-05-27 00:26:54.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:26:54.692 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:54.757 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:26:54.759 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:26:54.765 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 73.7323ms
2024-05-27 00:27:09.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:27:09.690 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:09.749 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:09.750 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:27:09.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 63.2535ms
2024-05-27 00:27:24.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:27:24.685 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:24.739 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:24.740 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:27:24.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 57.8593ms
2024-05-27 00:27:39.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:27:39.684 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:39.739 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:39.742 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:27:39.748 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 64.0281ms
2024-05-27 00:27:54.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:27:54.692 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:54.748 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:27:54.749 +02:00 [ERR] An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
System.FormatException: An error occurred while deserializing the Notifications property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.StudentNotificationsDocument: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.FormatException: An error occurred while deserializing the EventType property of class MiniSpace.Services.Notifications.Infrastructure.Mongo.Documents.NotificationDocument: Requested value 'EventDeleted' was not found.
 ---> System.ArgumentException: Requested value 'EventDeleted' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.TryParse(Type enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, Object& result)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at MongoDB.Bson.Serialization.Serializers.EnumSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.Serializers.EnumerableSerializerBase`2.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindCommandOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.ToListAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at MiniSpace.Services.Notifications.Infrastructure.Mongo.Queries.Handlers.GetNotificationsByUserHandler.HandleAsync(GetNotificationsByUser query, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Notifications/src/MiniSpace.Services.Notifications.Infrastructure/Mongo/Queries/Handlers/GetNotificationsByUserHandler.cs:line 49
   at Convey.CQRS.Queries.Dispatchers.QueryDispatcher.QueryAsync[TQuery,TResult](TQuery query, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.<>c__DisplayClass3_0`2.<<Get>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Convey.WebApi.EndpointsBuilder.BuildQueryContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 00:27:54.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 400 null application/json 59.7187ms
2024-05-27 00:28:09.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - null null
2024-05-27 00:28:09.692 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:28:09.746 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:28:09.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status=Unread - 200 null application/json 55.7632ms
2024-05-27 00:28:16.793 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status= - null null
2024-05-27 00:28:16.793 +02:00 [INF] Executing endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:28:16.822 +02:00 [INF] Executed endpoint 'HTTP: GET notifications/{userId}'
2024-05-27 00:28:16.823 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/notifications/bf759205-b6b2-4f41-ad79-9ab58ccff882?page=1&pageSize=10&sortOrder=desc&status= - 200 null application/json 30.1813ms
2024-05-27 22:05:23.429 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:05:23.470 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:05:23.526 +02:00 [INF] Registering a service [id: email-service:cd01fe7216b44847bb652f46fbc1bcd4] in Consul...
2024-05-27 22:05:23.550 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:05:23.554 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:05:23.555 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:05:23.568 +02:00 [INF] Received HTTP response headers after 9.0028ms - 200
2024-05-27 22:05:23.570 +02:00 [INF] End processing HTTP request after 16.0695ms - 200
2024-05-27 22:05:23.573 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:05:23.575 +02:00 [INF] Registered a service [id: email-service:cd01fe7216b44847bb652f46fbc1bcd4] in Consul.
2024-05-27 22:05:23.586 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:05:23.608 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:09:41.300 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/notifications/send-email - application/json 183
2024-05-27 22:09:41.367 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/notifications/send-email - 404 0 null 68.2987ms
2024-05-27 22:09:41.367 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5010/notifications/send-email, Response status code: 404
2024-05-27 22:10:47.641 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:10:47.644 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:10:47.739 +02:00 [ERR] There was an error when processing a message with id: '8b9cd783daee4df1b97c8efb4ceba799'.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 42
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:10:47.753 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:10:47.756 +02:00 [ERR] Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 42
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:10:47.763 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 122.5396ms
2024-05-27 22:12:01.164 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:12:01.168 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:12:01.227 +02:00 [ERR] There was an error when processing a message with id: 'a2a40e56ae8244e6b53539b17f6185cd'.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 42
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:12:01.228 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:12:01.229 +02:00 [ERR] Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 42
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:12:01.231 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 66.7716ms
2024-05-27 22:12:26.498 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:12:26.499 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:12:26.554 +02:00 [ERR] There was an error when processing a message with id: '5536b55bbf054536b96f3179fae2c7e3'.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 42
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:12:26.554 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:12:26.555 +02:00 [ERR] Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 42
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:12:26.557 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 59.6479ms
2024-05-27 22:12:29.387 +02:00 [INF] Deregistering a service [id: email-service:cd01fe7216b44847bb652f46fbc1bcd4] from Consul...
2024-05-27 22:12:29.388 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:cd01fe7216b44847bb652f46fbc1bcd4"
2024-05-27 22:12:29.388 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:cd01fe7216b44847bb652f46fbc1bcd4
2024-05-27 22:12:29.388 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:cd01fe7216b44847bb652f46fbc1bcd4
2024-05-27 22:12:29.391 +02:00 [INF] Received HTTP response headers after 2.4885ms - 200
2024-05-27 22:12:29.391 +02:00 [INF] End processing HTTP request after 3.0467ms - 200
2024-05-27 22:12:29.392 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:12:29.392 +02:00 [INF] Deregistered a service [id: email-service:cd01fe7216b44847bb652f46fbc1bcd4] from Consul.
2024-05-27 22:12:35.038 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:12:35.078 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:12:35.137 +02:00 [INF] Registering a service [id: email-service:62e85de3f7324581a59c2fbf5203f35c] in Consul...
2024-05-27 22:12:35.159 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:12:35.163 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:12:35.163 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:12:35.171 +02:00 [INF] Received HTTP response headers after 5.4573ms - 200
2024-05-27 22:12:35.172 +02:00 [INF] End processing HTTP request after 9.8701ms - 200
2024-05-27 22:12:35.174 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:12:35.175 +02:00 [INF] Registered a service [id: email-service:62e85de3f7324581a59c2fbf5203f35c] in Consul.
2024-05-27 22:12:35.182 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:12:35.193 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:12:37.133 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:12:37.190 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:12:37.596 +02:00 [ERR] There was an error when processing a message with id: 'cab6a2558b85465099588dbe6af0beba'.
System.ArgumentNullException: Value cannot be null. (Parameter 'from')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailMessage..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to, String subject, String body)
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String body) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 30
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:12:37.648 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:12:37.675 +02:00 [ERR] Value cannot be null. (Parameter 'from')
System.ArgumentNullException: Value cannot be null. (Parameter 'from')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.ArgumentException.ThrowNullOrEmptyException(String argument, String paramName)
   at System.ArgumentException.ThrowIfNullOrEmpty(String argument, String paramName)
   at System.Net.Mail.MailMessage..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to, String subject, String body)
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String body) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 30
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:12:37.686 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 554.6118ms
2024-05-27 22:16:51.473 +02:00 [INF] Deregistering a service [id: email-service:62e85de3f7324581a59c2fbf5203f35c] from Consul...
2024-05-27 22:16:51.474 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:62e85de3f7324581a59c2fbf5203f35c"
2024-05-27 22:16:51.474 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:62e85de3f7324581a59c2fbf5203f35c
2024-05-27 22:16:51.474 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:62e85de3f7324581a59c2fbf5203f35c
2024-05-27 22:16:51.477 +02:00 [INF] Received HTTP response headers after 2.4123ms - 200
2024-05-27 22:16:51.478 +02:00 [INF] End processing HTTP request after 3.3487ms - 200
2024-05-27 22:16:51.478 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:16:51.478 +02:00 [INF] Deregistered a service [id: email-service:62e85de3f7324581a59c2fbf5203f35c] from Consul.
2024-05-27 22:16:57.324 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:16:57.370 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:16:57.424 +02:00 [INF] Registering a service [id: email-service:ac7efb4ccb434bbd92e92aa0b5377400] in Consul...
2024-05-27 22:16:57.445 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:16:57.450 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:16:57.450 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:16:57.458 +02:00 [INF] Received HTTP response headers after 5.1274ms - 200
2024-05-27 22:16:57.459 +02:00 [INF] End processing HTTP request after 10.0275ms - 200
2024-05-27 22:16:57.461 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:16:57.462 +02:00 [INF] Registered a service [id: email-service:ac7efb4ccb434bbd92e92aa0b5377400] in Consul.
2024-05-27 22:16:57.468 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:16:57.480 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:17:01.085 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:17:01.140 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:17:01.244 +02:00 [ERR] There was an error when processing a message with id: 'd0c370570ef449ebb46897d104443ef5'.
System.InvalidOperationException: Sender email address ('fromEmail') is not configured.
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String body) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 33
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:17:01.272 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:17:01.286 +02:00 [ERR] Sender email address ('fromEmail') is not configured.
System.InvalidOperationException: Sender email address ('fromEmail') is not configured.
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String body) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 33
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:17:01.297 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 212.0423ms
2024-05-27 22:17:56.575 +02:00 [INF] Deregistering a service [id: email-service:ac7efb4ccb434bbd92e92aa0b5377400] from Consul...
2024-05-27 22:17:56.577 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:ac7efb4ccb434bbd92e92aa0b5377400"
2024-05-27 22:17:56.578 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:ac7efb4ccb434bbd92e92aa0b5377400
2024-05-27 22:17:56.578 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:ac7efb4ccb434bbd92e92aa0b5377400
2024-05-27 22:17:56.582 +02:00 [INF] Received HTTP response headers after 3.0768ms - 200
2024-05-27 22:17:56.584 +02:00 [INF] End processing HTTP request after 6.4647ms - 200
2024-05-27 22:17:56.586 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:17:56.587 +02:00 [INF] Deregistered a service [id: email-service:ac7efb4ccb434bbd92e92aa0b5377400] from Consul.
2024-05-27 22:18:02.392 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:18:02.431 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:18:02.511 +02:00 [INF] Registering a service [id: email-service:3e145f4ed8884ab2b7d33bbf7e5623d1] in Consul...
2024-05-27 22:18:02.541 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:18:02.547 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:18:02.550 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:18:02.563 +02:00 [INF] Received HTTP response headers after 7.5448ms - 200
2024-05-27 22:18:02.565 +02:00 [INF] End processing HTTP request after 18.1744ms - 200
2024-05-27 22:18:02.568 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:18:02.569 +02:00 [INF] Registered a service [id: email-service:3e145f4ed8884ab2b7d33bbf7e5623d1] in Consul.
2024-05-27 22:18:02.578 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:18:02.595 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:18:47.956 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:18:48.022 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:18:48.256 +02:00 [ERR] There was an error when processing a message with id: '450943a1d21c48a0bc615daff108bed3'.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (0xFFFDFFFF): Name or service not known
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String body) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 41
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:18:48.280 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:18:48.301 +02:00 [ERR] Failure sending mail.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (0xFFFDFFFF): Name or service not known
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String body) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 41
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:18:48.319 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 364.6034ms
2024-05-27 22:20:20.123 +02:00 [INF] Deregistering a service [id: email-service:3e145f4ed8884ab2b7d33bbf7e5623d1] from Consul...
2024-05-27 22:20:20.124 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:3e145f4ed8884ab2b7d33bbf7e5623d1"
2024-05-27 22:20:20.124 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:3e145f4ed8884ab2b7d33bbf7e5623d1
2024-05-27 22:20:20.124 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:3e145f4ed8884ab2b7d33bbf7e5623d1
2024-05-27 22:20:20.127 +02:00 [INF] Received HTTP response headers after 2.0721ms - 200
2024-05-27 22:20:20.127 +02:00 [INF] End processing HTTP request after 3.1416ms - 200
2024-05-27 22:20:20.128 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:20:20.128 +02:00 [INF] Deregistered a service [id: email-service:3e145f4ed8884ab2b7d33bbf7e5623d1] from Consul.
2024-05-27 22:21:46.838 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:21:46.882 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:21:46.947 +02:00 [INF] Registering a service [id: email-service:d665391324424d948ced81adeb19ba25] in Consul...
2024-05-27 22:21:46.967 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:21:46.972 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:21:46.972 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:21:46.979 +02:00 [INF] Received HTTP response headers after 4.6656ms - 200
2024-05-27 22:21:46.980 +02:00 [INF] End processing HTTP request after 8.9005ms - 200
2024-05-27 22:21:46.982 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:21:46.983 +02:00 [INF] Registered a service [id: email-service:d665391324424d948ced81adeb19ba25] in Consul.
2024-05-27 22:21:46.990 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:21:47.000 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:21:50.984 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:21:51.039 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:23:11.800 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:23:11.843 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:23:11.900 +02:00 [INF] Registering a service [id: email-service:fff221a9fa474369b5a7a96d2cd5d557] in Consul...
2024-05-27 22:23:11.925 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:23:11.928 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:23:11.929 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:23:11.936 +02:00 [INF] Received HTTP response headers after 4.6176ms - 200
2024-05-27 22:23:11.937 +02:00 [INF] End processing HTTP request after 9.0788ms - 200
2024-05-27 22:23:11.939 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:23:11.941 +02:00 [INF] Registered a service [id: email-service:fff221a9fa474369b5a7a96d2cd5d557] in Consul.
2024-05-27 22:23:11.949 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:23:11.959 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:23:17.780 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:23:17.853 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:23:27.457 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:23:27.471 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:23:27.490 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 9711.1317ms
2024-05-27 22:24:10.798 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 183
2024-05-27 22:24:10.800 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:24:15.473 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:24:15.475 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:24:15.480 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 4681.8348ms
2024-05-27 22:29:41.187 +02:00 [INF] Deregistering a service [id: email-service:fff221a9fa474369b5a7a96d2cd5d557] from Consul...
2024-05-27 22:29:41.188 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:fff221a9fa474369b5a7a96d2cd5d557"
2024-05-27 22:29:41.188 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:fff221a9fa474369b5a7a96d2cd5d557
2024-05-27 22:29:41.189 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:fff221a9fa474369b5a7a96d2cd5d557
2024-05-27 22:29:41.191 +02:00 [INF] Received HTTP response headers after 2.0094ms - 200
2024-05-27 22:29:41.191 +02:00 [INF] End processing HTTP request after 2.6021ms - 200
2024-05-27 22:29:41.191 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:29:41.192 +02:00 [INF] Deregistered a service [id: email-service:fff221a9fa474369b5a7a96d2cd5d557] from Consul.
2024-05-27 22:29:52.838 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:29:52.883 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:29:52.949 +02:00 [INF] Registering a service [id: email-service:ac49c814445e4ce7992ddd3667dd7dea] in Consul...
2024-05-27 22:29:52.970 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:29:52.975 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:29:52.975 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:29:52.983 +02:00 [INF] Received HTTP response headers after 4.9351ms - 200
2024-05-27 22:29:52.985 +02:00 [INF] End processing HTTP request after 10.7227ms - 200
2024-05-27 22:29:52.989 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:29:52.991 +02:00 [INF] Registered a service [id: email-service:ac49c814445e4ce7992ddd3667dd7dea] in Consul.
2024-05-27 22:29:52.998 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:29:53.012 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:30:49.683 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1328
2024-05-27 22:30:49.736 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:30:49.750 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:30:49.763 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null null 80.8204ms
2024-05-27 22:31:46.182 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1445
2024-05-27 22:31:46.183 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:31:49.712 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:31:49.725 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:31:49.739 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 3557.3042ms
2024-05-27 22:33:35.543 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 22:33:35.546 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:33:40.053 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:33:40.054 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:33:40.055 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 4511.7466ms
2024-05-27 22:34:13.367 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1447
2024-05-27 22:34:13.368 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:34:16.456 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:34:16.459 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:34:16.462 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 3094.8596ms
2024-05-27 22:34:33.294 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1452
2024-05-27 22:34:33.295 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:34:36.339 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:34:36.340 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:34:36.341 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 3046.829ms
2024-05-27 22:35:41.083 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1443
2024-05-27 22:35:41.084 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:35:44.050 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:35:44.053 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:35:44.057 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 2973.348ms
2024-05-27 22:35:59.276 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1448
2024-05-27 22:35:59.277 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:36:02.246 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:36:02.247 +02:00 [ERR] Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
SmartFormat.Core.Formatting.FormattingException: Error parsing format string: Could not evaluate the selector "EmailId" at 21
Sent email with ID: {EmailId} to user: {UserId}.
---------------------^
   at SmartFormat.SmartFormatter.FormatError(FormatItem errorItem, Exception innerException, Int32 startIndex, FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormattingInfo formattingInfo)
   at SmartFormat.SmartFormatter.Format(FormatDetails formatDetails, Format format, Object current)
   at SmartFormat.SmartFormatter.Format(IFormatProvider provider, String format, Object[] args)
   at SmartFormat.SmartFormatter.Format(String format, Object[] args)
   at SmartFormat.Smart.Format(String format, Object arg0)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.Log(TCommand command, String message, Boolean isError)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:36:02.249 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 2972.1864ms
2024-05-27 22:38:39.442 +02:00 [INF] Deregistering a service [id: email-service:ac49c814445e4ce7992ddd3667dd7dea] from Consul...
2024-05-27 22:38:39.446 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:ac49c814445e4ce7992ddd3667dd7dea"
2024-05-27 22:38:39.447 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:ac49c814445e4ce7992ddd3667dd7dea
2024-05-27 22:38:39.448 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:ac49c814445e4ce7992ddd3667dd7dea
2024-05-27 22:38:39.456 +02:00 [INF] Received HTTP response headers after 7.4869ms - 200
2024-05-27 22:38:39.457 +02:00 [INF] End processing HTTP request after 9.8391ms - 200
2024-05-27 22:38:39.459 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:38:39.465 +02:00 [INF] Deregistered a service [id: email-service:ac49c814445e4ce7992ddd3667dd7dea] from Consul.
2024-05-27 22:46:39.248 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:46:39.286 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:46:39.355 +02:00 [INF] Registering a service [id: email-service:8adc807aa6ab41f695921effb6305fc0] in Consul...
2024-05-27 22:46:39.375 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:46:39.378 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:46:39.378 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:46:39.385 +02:00 [INF] Received HTTP response headers after 4.1811ms - 200
2024-05-27 22:46:39.386 +02:00 [INF] End processing HTTP request after 9.1961ms - 200
2024-05-27 22:46:39.390 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:46:39.391 +02:00 [INF] Registered a service [id: email-service:8adc807aa6ab41f695921effb6305fc0] in Consul.
2024-05-27 22:46:39.399 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:46:39.408 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:46:43.002 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 22:46:43.064 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:46:46.362 +02:00 [INF] Sent email with ID: f71bc594-14aa-432c-9def-e4f880b0b83a to user: 7e9fd928-fbde-4468-89b1-6e712345ecc7.
2024-05-27 22:46:46.369 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:46:46.375 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 200 null application/json; charset=utf-8 3374.5213ms
2024-05-27 22:47:30.118 +02:00 [INF] Deregistering a service [id: email-service:8adc807aa6ab41f695921effb6305fc0] from Consul...
2024-05-27 22:47:30.120 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:8adc807aa6ab41f695921effb6305fc0"
2024-05-27 22:47:30.120 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:8adc807aa6ab41f695921effb6305fc0
2024-05-27 22:47:30.120 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:8adc807aa6ab41f695921effb6305fc0
2024-05-27 22:47:30.123 +02:00 [INF] Received HTTP response headers after 2.138ms - 200
2024-05-27 22:47:30.123 +02:00 [INF] End processing HTTP request after 2.8093ms - 200
2024-05-27 22:47:30.123 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:47:30.124 +02:00 [INF] Deregistered a service [id: email-service:8adc807aa6ab41f695921effb6305fc0] from Consul.
2024-05-27 22:47:45.719 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:47:45.762 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:47:45.817 +02:00 [INF] Registering a service [id: email-service:ad232477003f4060be8514623559baf2] in Consul...
2024-05-27 22:47:45.835 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:47:45.839 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:47:45.840 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:47:45.847 +02:00 [INF] Received HTTP response headers after 4.7727ms - 200
2024-05-27 22:47:45.848 +02:00 [INF] End processing HTTP request after 9.6604ms - 200
2024-05-27 22:47:45.850 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:47:45.851 +02:00 [INF] Registered a service [id: email-service:ad232477003f4060be8514623559baf2] in Consul.
2024-05-27 22:47:45.858 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:47:45.867 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:55:07.659 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 22:55:07.735 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:55:11.533 +02:00 [INF] Sent email with ID: 7431e18d-08a3-4c56-b1ad-0a5fe3c40a01 to user: 7e9fd928-fbde-4468-89b1-6e712345ecc7.
2024-05-27 22:55:11.541 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:55:11.548 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 200 null application/json; charset=utf-8 3890.4118ms
2024-05-27 22:55:34.510 +02:00 [INF] Deregistering a service [id: email-service:ad232477003f4060be8514623559baf2] from Consul...
2024-05-27 22:55:34.510 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:ad232477003f4060be8514623559baf2"
2024-05-27 22:55:34.511 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:ad232477003f4060be8514623559baf2
2024-05-27 22:55:34.511 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:ad232477003f4060be8514623559baf2
2024-05-27 22:55:34.516 +02:00 [INF] Received HTTP response headers after 4.1921ms - 200
2024-05-27 22:55:34.516 +02:00 [INF] End processing HTTP request after 5.661ms - 200
2024-05-27 22:55:34.517 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:55:34.518 +02:00 [INF] Deregistered a service [id: email-service:ad232477003f4060be8514623559baf2] from Consul.
08.268 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:55:08.305 +02:00 [INF] Deregistering a service [id: email-service:2ce19e6cc58d4b1daf993109bab18627] from Consul...
2024-05-27 22:55:08.308 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:2ce19e6cc58d4b1daf993109bab18627"
2024-05-27 22:55:08.308 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:2ce19e6cc58d4b1daf993109bab18627
2024-05-27 22:55:08.308 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:2ce19e6cc58d4b1daf993109bab18627
2024-05-27 22:55:08.317 +02:00 [INF] Received HTTP response headers after 8.3663ms - 200
2024-05-27 22:55:08.317 +02:00 [INF] End processing HTTP request after 9.5755ms - 200
2024-05-27 22:55:08.318 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:55:08.319 +02:00 [INF] Deregistered a service [id: email-service:2ce19e6cc58d4b1daf993109bab18627] from Consul.
2024-05-27 22:55:42.090 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:55:42.137 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:55:42.202 +02:00 [INF] Registering a service [id: email-service:a0ceb24e863b49f5a175a93399573b7c] in Consul...
2024-05-27 22:55:42.221 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:55:42.224 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:55:42.225 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:55:42.235 +02:00 [INF] Received HTTP response headers after 7.1888ms - 200
2024-05-27 22:55:42.236 +02:00 [INF] End processing HTTP request after 12.4333ms - 200
2024-05-27 22:55:42.239 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:55:42.240 +02:00 [INF] Registered a service [id: email-service:a0ceb24e863b49f5a175a93399573b7c] in Consul.
2024-05-27 22:55:42.245 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:55:42.256 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:56:02.896 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 22:56:02.958 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:56:05.756 +02:00 [ERR] There was an error when processing a message with id: 'd96fcb2365e24fb1b6f0f37e65fcbb3c'.
System.Net.Mail.SmtpFailedRecipientException: Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@email.io>: Sender address rejected: not owned by user info@itsharppro.com
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String htmlContent) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 50
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:56:05.806 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:56:05.857 +02:00 [ERR] Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@email.io>: Sender address rejected: not owned by user info@itsharppro.com
System.Net.Mail.SmtpFailedRecipientException: Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@email.io>: Sender address rejected: not owned by user info@itsharppro.com
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String htmlContent) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 50
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:56:05.873 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 2977.771ms
2024-05-27 22:56:52.012 +02:00 [INF] Deregistering a service [id: email-service:a0ceb24e863b49f5a175a93399573b7c] from Consul...
2024-05-27 22:56:52.014 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:a0ceb24e863b49f5a175a93399573b7c"
2024-05-27 22:56:52.016 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:a0ceb24e863b49f5a175a93399573b7c
2024-05-27 22:56:52.017 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:a0ceb24e863b49f5a175a93399573b7c
2024-05-27 22:56:52.024 +02:00 [INF] Received HTTP response headers after 5.7851ms - 200
2024-05-27 22:56:52.025 +02:00 [INF] End processing HTTP request after 8.4389ms - 200
2024-05-27 22:56:52.025 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:56:52.027 +02:00 [INF] Deregistered a service [id: email-service:a0ceb24e863b49f5a175a93399573b7c] from Consul.
2024-05-27 22:56:58.024 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:56:58.063 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:56:58.117 +02:00 [INF] Registering a service [id: email-service:4012bdb9882d4ee08c16ffe395ecc9b4] in Consul...
2024-05-27 22:56:58.136 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:56:58.140 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:56:58.141 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:56:58.148 +02:00 [INF] Received HTTP response headers after 4.5564ms - 200
2024-05-27 22:56:58.148 +02:00 [INF] End processing HTTP request after 8.7868ms - 200
2024-05-27 22:56:58.151 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:56:58.152 +02:00 [INF] Registered a service [id: email-service:4012bdb9882d4ee08c16ffe395ecc9b4] in Consul.
2024-05-27 22:56:58.158 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:56:58.167 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:56:58.923 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 22:56:58.984 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:57:01.191 +02:00 [ERR] There was an error when processing a message with id: 'b30728a29b724098b24fe7600ddca2ec'.
System.Net.Mail.SmtpFailedRecipientException: Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@itsharppro.com>: Sender address rejected: not owned by user info@itsharppro.com
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String htmlContent) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 50
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:57:01.204 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:57:01.219 +02:00 [ERR] Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@itsharppro.com>: Sender address rejected: not owned by user info@itsharppro.com
System.Net.Mail.SmtpFailedRecipientException: Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@itsharppro.com>: Sender address rejected: not owned by user info@itsharppro.com
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String htmlContent) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 50
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:57:01.229 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 2306.5294ms
2024-05-27 22:58:57.340 +02:00 [INF] Deregistering a service [id: email-service:4012bdb9882d4ee08c16ffe395ecc9b4] from Consul...
2024-05-27 22:58:57.341 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:4012bdb9882d4ee08c16ffe395ecc9b4"
2024-05-27 22:58:57.341 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:4012bdb9882d4ee08c16ffe395ecc9b4
2024-05-27 22:58:57.342 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:4012bdb9882d4ee08c16ffe395ecc9b4
2024-05-27 22:58:57.344 +02:00 [INF] Received HTTP response headers after 2.6075ms - 200
2024-05-27 22:58:57.345 +02:00 [INF] End processing HTTP request after 3.6178ms - 200
2024-05-27 22:58:57.345 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:58:57.346 +02:00 [INF] Deregistered a service [id: email-service:4012bdb9882d4ee08c16ffe395ecc9b4] from Consul.
2024-05-27 22:59:07.946 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 22:59:08.000 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 22:59:08.064 +02:00 [INF] Registering a service [id: email-service:0b4a73ac4a9048b0b91c359404f9e14b] in Consul...
2024-05-27 22:59:08.091 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 22:59:08.096 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:59:08.097 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 22:59:08.105 +02:00 [INF] Received HTTP response headers after 5.069ms - 200
2024-05-27 22:59:08.107 +02:00 [INF] End processing HTTP request after 11.6395ms - 200
2024-05-27 22:59:08.111 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 22:59:08.112 +02:00 [INF] Registered a service [id: email-service:0b4a73ac4a9048b0b91c359404f9e14b] in Consul.
2024-05-27 22:59:08.124 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 22:59:08.148 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 22:59:09.361 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 22:59:09.461 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 22:59:11.786 +02:00 [ERR] There was an error when processing a message with id: '8579ec07e0bc4790b6482415585c4368'.
System.Net.Mail.SmtpFailedRecipientException: Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@itsharppro.com>: Sender address rejected: not owned by user info@itsharppro.com
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String htmlContent) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 46
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
2024-05-27 22:59:11.801 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 22:59:11.816 +02:00 [ERR] Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@itsharppro.com>: Sender address rejected: not owned by user info@itsharppro.com
System.Net.Mail.SmtpFailedRecipientException: Mailbox name not allowed. The server response was: 5.7.1 <no-reply.minispace@itsharppro.com>: Sender address rejected: not owned by user info@itsharppro.com
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at MiniSpace.Services.Email.Infrastructure.Services.SmtpEmailService.SendEmailAsync(String to, String subject, String htmlContent) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Infrastructure/Services/SmtpEmailService.cs:line 46
   at MiniSpace.Services.Email.Application.Commands.Handlers.CreateEmailNotificationHandler.HandleAsync(CreateEmailNotification command, CancellationToken cancellationToken) in /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Application/Commands/Handlers/CreateEmailNotificationHandler.cs:line 46
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.MessageBrokers.Outbox.Mongo.Internals.MongoMessageOutbox.HandleAsync(String messageId, Func`1 handler)
   at Convey.Logging.CQRS.Decorators.CommandHandlerLoggingDecorator`1.HandleAsync(TCommand command, CancellationToken cancellationToken)
   at Convey.CQRS.Commands.Dispatchers.CommandDispatcher.SendAsync[T](T command, CancellationToken cancellationToken)
   at Convey.WebApi.CQRS.Builders.DispatcherEndpointsBuilder.BuildCommandContext[T](T command, HttpContext context, Func`3 beforeDispatch, Func`3 afterDispatch)
   at Convey.WebApi.EndpointsBuilder.BuildRequestContext[T](HttpContext httpContext, Func`3 context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ApdexMiddleware.MeasureTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.PerRequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.RequestTimerMiddleware.TimeTransaction(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ErrorRequestMeterMiddleware.Invoke(HttpContext context)
   at App.Metrics.AspNetCore.Tracking.Middleware.ActiveRequestCounterEndpointMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Convey.WebApi.Exceptions.ErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next)
2024-05-27 22:59:11.824 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 400 null application/json 2464.2669ms
2024-05-27 23:00:55.117 +02:00 [INF] Deregistering a service [id: email-service:0b4a73ac4a9048b0b91c359404f9e14b] from Consul...
2024-05-27 23:00:55.119 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:0b4a73ac4a9048b0b91c359404f9e14b"
2024-05-27 23:00:55.119 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:0b4a73ac4a9048b0b91c359404f9e14b
2024-05-27 23:00:55.120 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:0b4a73ac4a9048b0b91c359404f9e14b
2024-05-27 23:00:55.123 +02:00 [INF] Received HTTP response headers after 2.8926ms - 200
2024-05-27 23:00:55.124 +02:00 [INF] End processing HTTP request after 4.4672ms - 200
2024-05-27 23:00:55.125 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 23:00:55.127 +02:00 [INF] Deregistered a service [id: email-service:0b4a73ac4a9048b0b91c359404f9e14b] from Consul.
2024-05-27 23:01:03.524 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 23:01:03.566 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 23:01:03.628 +02:00 [INF] Registering a service [id: email-service:d3065b26301a4e00854fbe3e9ec8702e] in Consul...
2024-05-27 23:01:03.649 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 23:01:03.653 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 23:01:03.654 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 23:01:03.661 +02:00 [INF] Received HTTP response headers after 5.1966ms - 200
2024-05-27 23:01:03.662 +02:00 [INF] End processing HTTP request after 9.5748ms - 200
2024-05-27 23:01:03.664 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 23:01:03.665 +02:00 [INF] Registered a service [id: email-service:d3065b26301a4e00854fbe3e9ec8702e] in Consul.
2024-05-27 23:01:03.672 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 23:01:03.681 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 23:01:05.653 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 23:01:05.714 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 23:01:09.079 +02:00 [INF] Sent email with ID: 17e2354b-9c36-4be6-a4d5-c300da591d44 to user: 7e9fd928-fbde-4468-89b1-6e712345ecc7.
2024-05-27 23:01:09.088 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 23:01:09.094 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 200 null application/json; charset=utf-8 3442.3446ms
2024-05-27 23:02:18.533 +02:00 [INF] Deregistering a service [id: email-service:d3065b26301a4e00854fbe3e9ec8702e] from Consul...
2024-05-27 23:02:18.535 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:d3065b26301a4e00854fbe3e9ec8702e"
2024-05-27 23:02:18.535 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:d3065b26301a4e00854fbe3e9ec8702e
2024-05-27 23:02:18.535 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:d3065b26301a4e00854fbe3e9ec8702e
2024-05-27 23:02:18.539 +02:00 [INF] Received HTTP response headers after 3.7173ms - 200
2024-05-27 23:02:18.540 +02:00 [INF] End processing HTTP request after 4.5637ms - 200
2024-05-27 23:02:18.540 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 23:02:18.541 +02:00 [INF] Deregistered a service [id: email-service:d3065b26301a4e00854fbe3e9ec8702e] from Consul.
2024-05-27 23:02:26.928 +02:00 [WRN] The WebRootPath was not found: /home/kaliuser/Documents/portfolio/commercial_apps/p_software_engineering_2/MiniSpace.Services.Email/src/MiniSpace.Services.Email.Api/wwwroot. Static files may be unavailable.
2024-05-27 23:02:26.973 +02:00 [INF] Outbox is enabled, type: 'Sequential', message processing every 2000 ms.
2024-05-27 23:02:27.033 +02:00 [INF] Registering a service [id: email-service:9996c5d671a742038f57c1fdcd41659d] in Consul...
2024-05-27 23:02:27.055 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/register"
2024-05-27 23:02:27.060 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 23:02:27.060 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/register
2024-05-27 23:02:27.068 +02:00 [INF] Received HTTP response headers after 4.5184ms - 200
2024-05-27 23:02:27.069 +02:00 [INF] End processing HTTP request after 10.371ms - 200
2024-05-27 23:02:27.072 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 23:02:27.072 +02:00 [INF] Registered a service [id: email-service:9996c5d671a742038f57c1fdcd41659d] in Consul.
2024-05-27 23:02:27.081 +02:00 [INF] Declaring a queue: 'email-service/email.create_email_notification' with routing key: 'create_email_notification' for an exchange: 'email'.
2024-05-27 23:02:27.090 +02:00 [INF] Declaring a queue: 'email-service/notifications.notification_created' with routing key: 'notification_created' for an exchange: 'notifications'.
2024-05-27 23:02:27.846 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/email-notifications - application/json 1451
2024-05-27 23:02:27.906 +02:00 [INF] Executing endpoint 'HTTP: POST email-notifications'
2024-05-27 23:02:30.971 +02:00 [INF] Sent email with ID: f661b48d-77f1-4878-9866-3a1a60034d32 to user: 7e9fd928-fbde-4468-89b1-6e712345ecc7.
2024-05-27 23:02:30.977 +02:00 [INF] Executed endpoint 'HTTP: POST email-notifications'
2024-05-27 23:02:30.984 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/email-notifications - 200 null application/json; charset=utf-8 3138.879ms
2024-05-27 23:09:24.550 +02:00 [INF] Deregistering a service [id: email-service:9996c5d671a742038f57c1fdcd41659d] from Consul...
2024-05-27 23:09:24.551 +02:00 [INF] Start processing HTTP request PUT "http://localhost:8500/v1/agent/service/deregister/email-service:9996c5d671a742038f57c1fdcd41659d"
2024-05-27 23:09:24.552 +02:00 [INF] Start processing HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:9996c5d671a742038f57c1fdcd41659d
2024-05-27 23:09:24.552 +02:00 [INF] Sending HTTP request PUT http://localhost:8500/v1/agent/service/deregister/email-service:9996c5d671a742038f57c1fdcd41659d
2024-05-27 23:09:24.556 +02:00 [INF] Received HTTP response headers after 3.0567ms - 200
2024-05-27 23:09:24.556 +02:00 [INF] End processing HTTP request after 4.0105ms - 200
2024-05-27 23:09:24.556 +02:00 [INF] End processing HTTP request - "OK"
2024-05-27 23:09:24.557 +02:00 [INF] Deregistered a service [id: email-service:9996c5d671a742038f57c1fdcd41659d] from Consul.
